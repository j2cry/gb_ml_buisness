<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Intruder Detection through Webpage Session Tracking</title>
  </head>
  <body>
    <div class="container">
      <h3 class="mt-3">Catch me if you can</h3>
      <p>
        This model allows detecting intruder through Web session tracking.
        The original Kaggle competition is
        <a href="https://www.kaggle.com/c/catch-me-if-you-can-intruder-detection-through-webpage-session-tracking2">here</a>.
      </p>
      <h5>How to use</h5>
      Send to this URL a post request contains sample data. It can contain either one or many samples.
      Sample data must have the next structure: <code>{column_name: {object_id: value, ... }, ... }</code><br>
      The best way to get this is the <code>pandas.to_dict()</code> method.<br>
      The button below sends one predefined sample collected from <code>Alice_log.csv</code> (see link above).
      <br>
      <h5 class="mt-3">Here are some model validation metrics</h5>
      Вставить кртиночку
      <br>
      <button class="btn btn-primary my-2" id="send">send test sample</button>

      <div>
        <textarea class="form-input" id="result" style="width: -webkit-fill-available" readonly></textarea>
      </div>
    </div>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      sendButton = $('#send');
      sendButton.on('click', function() {
        sample = {'session_id': {0: 0},
                  'site1': {0: 76},
                  'time1': {0: '2013-09-12 16:14:19'},
                  'site2': {0: 80},
                  'time2': {0: '2013-09-12 16:14:20'},
                  'site3': {0: 881},
                  'time3': {0: '2013-09-12 16:14:20'},
                  'site4': {0: 881},
                  'time4': {0: '2013-09-12 16:14:21'},
                  'site5': {0: 881},
                  'time5': {0: '2013-09-12 16:14:22'},
                  'site6': {0: 80},
                  'time6': {0: '2013-09-12 16:14:24'},
                  'site7': {0: 881},
                  'time7': {0: '2013-09-12 16:14:25'},
                  'site8': {0: 75},
                  'time8': {0: '2013-09-12 16:14:27'},
                  'site9': {0: 76},
                  'time9': {0: '2013-09-12 16:14:27'},
                  'site10': {0: 80},
                  'time10': {0: '2013-09-12 16:14:30'}
                  }

        $.ajax({
          method: 'POST',
          url: window.location.href,
          cors: true,
          header: {
            'Access-Control-Allow-Origin': '*',
          },
          contentType: 'application/json',
          data: JSON.stringify(sample),
          success: function(response) {
            result = document.getElementById('result');
            result.value = '';
            for (let i = 0; i < Object.keys(response[0]).length; i++) {
              result.value += 'Object ' + i + ': P0 = ' + response[0][i] + ', P1 = ' + response[1][i] + '\n';
            }
          }
        });

      });
    </script>
  </body>
</html>